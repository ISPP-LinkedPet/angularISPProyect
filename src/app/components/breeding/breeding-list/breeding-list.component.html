<section class="jumbotron text-center">
  <div class="container">
    <h1 class="jumbotron-header">Lista de crianza</h1>
    <p class="lead text-muted">
      Esta es la lista de todas las ofertas de crianza disponibles
    </p>
    <p>
      <button routerLink="/breeding" type="button" *ngIf="'particular'" class="btn btn-success">Crear Anuncio</button>
      <button routerLink="/breeding-animal" type="button" *ngIf="'particular'" class="btn ml-3 btn-success">Crear Anuncio con una mascota registrada</button>
    </p>
  </div>
</section>

<div class="my-3 p-3 bg-white rounded shadow-sm">
  <h3 class="border-bottom border-gray pb-2 mb-0">Filtrar</h3>
  <br>
  <form [formGroup]="filterForm">
    <div class="row">
      <div class="form-group col-sm">
        <label for="price">Precio</label>
        <input type="text" class="form-control" formControlName="price" (change)="onSubmit()"/>
      </div>
      <div class="form-group col-sm">
        <label for="type">Tipo animal</label>
        <select class="form-control" id="type" formControlName="type" (change)="onSubmit()">
          <option value="" [defaultSelected]="true">Seleccione tipo animal</option>
          <option value="Dog">Perro</option>
          <option value="Cat">Gato</option>
          <option value="Horse">Caballo</option>
        </select>
      </div>
      <div class="form-group col-sm">
        <label for="pedigree">Pedigrí</label>
        <select class="form-control" id="pedigree" formControlName="pedigree" (change)="onSubmit()">
          <option value="" [defaultSelected]="true">Selecciona si tiene pedigrí</option>
          <option value="true">Si</option>
          <option value="false">No</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm">
        <label for="breed">Raza</label>
        <input type="text" class="form-control" id="breed" formControlName="breed" (change)="onSubmit()"/>
      </div>
      <div class="form-group col-sm">
        <label for="genre">Genero</label>
        <select class="form-control" id="genre" formControlName="genre" (change)="onSubmit()">
          <option value="" [defaultSelected]="true">Seleccione genero</option>
          <option value="Male">Macho</option>
          <option value="Female">Hembra</option>
        </select>
      </div>
      <div class="form-group col-sm"></div>
    </div>
  </form>
</div>

<div class="card border-success mb-3" *ngFor="let breedingAd of returnedBreedings">
  <h3 class="card-header">
    {{ breedingAd.breed }} en {{ breedingAd.location }}
  </h3>
  <div class="card-body">
    <img
      src="{{ env }}/{{ breedingAd.animal_photo.split(',')[0] }}"
      alt="Foto/s del animal"
    />
    <div class="description-content">
      <ul>
        <li class="card-text">
          <label><strong>Edad: </strong></label>
          {{ this.configService.calculateAge(breedingAd.birth_date) }}
        </li>
        <li class="card-text">
          <label><strong>Animal: </strong></label>
          {{ this.configService.translateType(breedingAd.type) }}
        </li>
        <li class="card-text">
          <label><strong>Pedigree: </strong></label>
          {{ breedingAd.pedigree ? "Sí" : "No" }}
        </li>
        <li class="card-text">
          <label><strong>Ubicación: </strong></label> {{ breedingAd.location }}
        </li>
        <li class="card-text">
          <label><strong>Precio: </strong></label> {{ breedingAd.price }} euros
        </li>
      </ul>
    </div>
    <button type="button" class="btn btn-success details" (click)="viewDetails(breedingAd.breeding_id)">
      Ver Detalles
    </button>
  </div>
</div>
<pagination class="center" [totalItems]="breedings.length" [itemsPerPage]="itemsPerPage" (pageChanged)="pageChanged($event)">
</pagination>